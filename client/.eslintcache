[{"C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\Cart.js":"1","C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\util.js":"2","C:\\Users\\astef\\Desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\App.js":"3","C:\\Users\\astef\\Desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\Products.js":"4","C:\\Users\\astef\\Desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\util.js":"5","C:\\Users\\astef\\Desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\Cart.js":"6","C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\App.js":"7","C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\index.js":"8","C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\About.js":"9","C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\Products.js":"10"},{"size":4558,"mtime":1606789808637,"results":"11","hashOfConfig":"12"},{"size":109,"mtime":1606585056485,"results":"13","hashOfConfig":"12"},{"size":2690,"mtime":1606789119438,"results":"14","hashOfConfig":"15"},{"size":3044,"mtime":1606789119441,"results":"16","hashOfConfig":"15"},{"size":109,"mtime":1606585056485,"results":"17","hashOfConfig":"15"},{"size":4558,"mtime":1606789808637,"results":"18","hashOfConfig":"15"},{"size":3105,"mtime":1606800279314,"results":"19","hashOfConfig":"12"},{"size":220,"mtime":1606585056484,"results":"20","hashOfConfig":"12"},{"size":1564,"mtime":1606799040940,"results":"21","hashOfConfig":"12"},{"size":3044,"mtime":1606789119441,"results":"22","hashOfConfig":"12"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},"qc1uvg",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"gp25gi",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\Cart.js",["44"],"import React, {useState} from \"react\";\nimport formatCurrency from \"../util\";\nimport Fade from \"react-reveal/Fade\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport Modal from \"react-modal\";\nimport Zoom from \"react-reveal/Zoom\";\n\nfunction Cart(props) {\n  const { cartItems } = props;\n\n  const [shipping, setShipping] = useState(8)\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError, setShowError] = useState(false);\n\n  function closeSuccessModal() {\n    setShowSuccess(false);\n    cartItems.length = 0;\n    localStorage.setItem(\n      \"cartItems\",\n      []);\n  }\n\n  function closeErrorModal() {\n    setShowError(false);\n  }\n\n  function handleToken (token) {\n    const product = cartItems;\n    const amount =  (cartItems.reduce((a, c) => a + c.price * c.count, 0)+shipping) * 100\n    console.log(token);\n    const body = {\n      token,\n      product,\n      amount\n    }\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    }\n\n    return fetch(`https://evolvewithanna.com/payment`, {\n      method: \"POST\",\n      headers: headers,\n      body: JSON.stringify(body)\n    }).then(response => {\n      const { status } = response;\n      console.log(\"STATUS: \", status);\n \n      setShowSuccess(true);\n\n    }).catch(err => { \n      console.log(err);\n      setShowError(true)\n    });\n  }\n\n  return (\n    <>\n      <div>\n        {cartItems.length === 0 ? (\n          <div className=\"cart cart-header\">Cart is empty</div>\n        ) : (\n          <div className=\"cart cart-header\">\n            Shopping Cart\n          </div>\n        )}\n      </div>\n      {cartItems.length !== 0 && (\n        <>\n          <div>\n            <div className=\"cart\">\n              <Fade left cascade>\n              <ul className=\"cart-items\">\n                {cartItems.map((item) => {\n                  return (\n                    <li key={item._id}>\n                      <div>\n                        <img src={item.image} alt={item.title} />\n                      </div>\n                      <div>\n                        <p>{item.title}</p>\n                        <p>\n                          {item.size} x {item.count}{\"  \"}\n                        </p>\n                      </div>\n                      <div className=\"right\">\n                        <button id={item._id + item.size} onClick={(evt) => props.removeFromCart(evt, item)}>\n                          X\n                        </button>\n                      </div>\n                    </li>\n                  );\n                })}\n              </ul>\n              </Fade>\n            </div>\n          </div>\n          <div className=\"cart\">\n            <div className=\"total\">\n              <div>\n                <p>\n                Total:{\" \"}\n                {formatCurrency(\n                  cartItems.reduce((a, c) => a + c.price * c.count, 0)\n                )}\n                </p>\n                <p>Shipping: {\" \"}{formatCurrency(shipping)}</p>\n              </div>\n              <StripeCheckout\n                stripeKey=\"pk_live_51Hqno3CUbxqSHspvOsqElOMwVgisyi6Q1mGz1HmODE2PN9TqQffNB6mxZO6fJhJilfRgYY2La7PEBXhxrffxh7PC00o9Gt044q\"\n                token={handleToken}\n                description=\"Evolve With Anna x Vuori\"\n                shippingAddress={true}\n                billingAddress={true}\n                product={cartItems}\n                amount={\n                  (cartItems.reduce((a, c) => a + c.price * c.count, 0)+shipping) * 100}>\n                  <button className=\"button button primary\">Checkout</button>\n                </StripeCheckout>\n            </div>\n          </div>\n          <Modal isOpen={showSuccess} onRequestClose={closeSuccessModal}>\n            <Zoom>\n              <h4 className=\"checkout-modal\">\n                Thank you for your purchase! Anna and Chris appreciate your support and can't wait to see everyone rocking their tees.\n              </h4>\n              <h4 className=\"checkout-modal\">\n                You can expect to receive your shirt in 3-4 weeks. Please reach out if you have any questions!\n                <img src=\"https://i.imgur.com/k0xxxom.jpg\" className=\"thankyou-photo\" alt=\"Chris & Anna Thank You!\" />\n\n              </h4>\n            </Zoom>\n          </Modal>\n          <Modal isOpen={showError} onRequestClose={closeErrorModal}>\n            <Zoom>\n              <h4 className=\"checkout-modal\">\n                Oops, something went wrong. Try placing your order again later.\n              </h4>\n            </Zoom>\n          </Modal>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Cart;\n","C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\util.js",[],"C:\\Users\\astef\\Desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\App.js",[],"C:\\Users\\astef\\Desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\Products.js",[],"C:\\Users\\astef\\Desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\util.js",[],"C:\\Users\\astef\\Desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\Cart.js",["45"],"C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\App.js",[],"C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\index.js",[],"C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\About.js",[],"C:\\Users\\astef\\desktop\\ewa_shirt_site\\evolvewithanna\\client\\src\\Components\\Products.js",[],{"ruleId":"46","severity":1,"message":"47","line":11,"column":20,"nodeType":"48","messageId":"49","endLine":11,"endColumn":31},{"ruleId":"46","severity":1,"message":"47","line":11,"column":20,"nodeType":"48","messageId":"49","endLine":11,"endColumn":31},"no-unused-vars","'setShipping' is assigned a value but never used.","Identifier","unusedVar"]